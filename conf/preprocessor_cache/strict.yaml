# Strict preprocessor cache configuration - exact matching only
# Use this for reproducible research where exact preprocessor matching is required

# @package _global_

defaults:
  - default

# Strict matching rules
matching:
  mode: "exact"  # Only exact matches allowed

  # Model matching requirements
  model:
    require_exact_name: true
    require_exact_type: true

  # Dataset matching requirements  
  dataset:
    require_exact_type: true
    require_exact_source: true  # Require exact source
    min_samples: null
    allow_superset: false  # Do not allow larger datasets

  # Detector matching requirements
  detector:
    require_exact_type: true
    require_exact_config: true  # Require exact config match
    feature_extractor:
      require_exact_k: true  # Require exact k values
      require_exact_laplacian: true

  # Preprocessor matching requirements
  preprocessor:
    require_exact_components: true  # Require exact n_components
    require_fitted: true
    min_explained_variance: 0.95  # Higher threshold
    prefer_state_dict: true

# Behavior when preprocessors not found - fail fast
on_missing:
  action: "error"
  show_suggestions: false  # Don't show alternatives in strict mode
  max_suggestions: 0